"use strict";var PageTerminate=function(n){var t=this,u=n.url,i,r;t.getParentPage=function(){var n=null;return typeof pageServiceHires!="undefined"&&(n=pageServiceHires),typeof pageServiceConfirms!="undefined"&&(n=pageServiceConfirms),n};t.getParentModel=function(){var n=null;return typeof pageServiceHires!="undefined"&&(n=pageServiceHires.model.selectedJobEngagement),typeof pageServiceConfirms!="undefined"&&(n=pageServiceConfirms.model.selectedServiceConfirms),n};$.templates({tmplTerminate:"#tmpl-terminate"});i=$(".content-terminate");t.setJobApplicationEndDate=function(n){var r=app.getFormValue(i),f=t.getParentModel(),e={url:u.setJobApplicationTerminate.format({id:f.id}),method:"PUT",headers:{"Content-Type":"application/json"},data:JSON.stringify(r)};$.ajax(e).done(n)};t.onJobApplicationEndDateUpdated=function(n){t.handleResponse(n,function(){var n=t.getParentPage();n.reloadSelectedEngagement();i.closest(".modal").modal("hide")})};t.handleResponse=function(n,t){n&&n.status&&n.status.code===1?t(n):swal({icon:"warning",title:"Fail",text:n.status.message}).then(function(){})};t.setUserEvent=function(){i.find(".btn-hire").on("click",function(n){n.preventDefault();n.stopPropagation();i.find("form").valid()&&t.setJobApplicationEndDate(t.onJobApplicationEndDateUpdated)});i.find(".btn-cancel").on("click",function(){i.closest(".modal").modal("hide")})};r=function(){$.templates.tmplTerminate.link(i,{});app.initFormComponent(i);t.setUserEvent()};r()},pageTerminate=new PageTerminate({url:{setJobApplicationTerminate:"/api/pro/serviceapplication/{{id}}/terminate"}});