"use strict";var PageReproposeService=function(n){var t=this,e=n.url,i=n.model||{},f;i.serviceApplicationId=null;var u=$(".content-repropose-service"),r=u.find("#form-repropose-service"),o=u.find("#form-group-duration");t.loadModel=function(){var n=pageServiceReceives&&pageServiceReceives.getModel();i=n&&n.selectedServiceReceives;app.setFormValue(r,i);i.id?(i.serviceTypeId===1||i.serviceTypeId===2)&&o.removeClass("hidden"):alert("service application id not found")};t.reproposeService=function(n){var t=app.getFormValue(r),i={url:e.reproposeService,method:"POST",headers:{"Content-Type":"application/json"},data:JSON.stringify(t)};$.ajax(i).done(n)};t.handleResponse=function(n,t){n&&n.status&&n.status.code===1?t(n):swal({icon:"warning",title:"Fail",text:n.status.message}).then(function(){})};t.responseReproposeService=function(n){t.handleResponse(n,function(){swal({icon:"success",title:"Repropose Request is sent to the Buyer"}).then(function(){location.reload()})})};t.setUserEvent=function(){r.find("button[type=submit]").on("click",function(n){(n.preventDefault(),n.stopPropagation(),r.valid()!==!1)&&t.reproposeService(t.responseReproposeService)})};f=function(){app.initFormComponent(r);t.loadModel();t.setUserEvent()};f()},pageReproposeService=new PageReproposeService({url:{reproposeService:"/api/pro/serviceApplication/repropose"}});