"use strict";var PageSubscriptionApplyJob=function(n){var t=this,r=n.url,u=$(".content"),i;t.generatePaymentLink=function(n){var t=window.location.getUrlQueryParams(),i=t.orderid,u={url:r.generatePaymentLink,method:"POST",headers:{"Content-Type":"application/json"},data:JSON.stringify({id:i})};$.ajax(u).done(n)};t.redirectToPaymentGateway=function(n){t.handleResponse(n,function(n){window.location.href=n.data.paymentURL})};t.handleResponse=function(n,t){n&&n.status&&n.status.code===1?t(n):swal({icon:"warning",title:"Fail",text:n.status.message}).then(function(){})};t.setUserEvent=function(){u.on("click",".btn-pay",function(){t.generatePaymentLink(t.redirectToPaymentGateway)})};i=function(){t.setUserEvent()};i()},pageSubscriptionApplyJob=new PageSubscriptionApplyJob({url:{generatePaymentLink:"/api/pro/payment"}});