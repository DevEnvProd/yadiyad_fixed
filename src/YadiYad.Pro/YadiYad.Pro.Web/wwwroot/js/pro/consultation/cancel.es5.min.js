"use strict";var PageRequestService=function(n){var t=this,r=n.url,e=n.model||{},u,i,f;e.serviceApplicationId=null;u=$(".content-facilitating-cancel");i=u.find(".form-facilitating-cancel");t.submitCancellation=function(n){var t=app.getFormValue(i),u={Id:$("#Id").val(),CancelledBy:t.cancelledBy,ReasonIdBuyer:t.reasonIdBuyer,ReasonIdSeller:t.reasonIdSeller,ReasonOthersBuyer:t.reasonOthersBuyer,ReasonOthersSeller:t.reasonOthersSeller,Rehire:t.rehire,ModeratorRemarks:t.moderatorRemarks},f={url:r.submitCompleteConsultationInvitation,method:"post",headers:{"Content-Type":"application/json"},data:JSON.stringify(u)};$.ajax(f).done(n)};t.responseSubmitCancellation=function(n){n&&n.status&&n.status.code===1?swal({icon:"success",title:"Consultation Cancelled Succesfully"}).then(function(){location.href=r.getReturnUrl}):swal({icon:"warning",title:"Fail",text:n.status.message}).then(function(){location.href=r.getReturnUrl})};t.setUserEvent=function(){i.find("button[type=submit]").on("click",function(n){(n.preventDefault(),n.stopPropagation(),i.valid()!==!1)&&t.submitCancellation(t.responseSubmitCancellation)});$(':input[name="cancelledBy"]').on("change",function(){var i=$(':input[name="cancelledBy"]:checked').val(),n,t;i=="Seller"?($("#divSellerReasons").show(),$("#divBuyerReasons").hide(),n=$('select[name="reasonIdSeller"]').select2("data"),n.length?n[0].text=="Others"?($("#divReasonOthersSeller").show(),$("#divReasonOthersBuyer").hide()):($("#divReasonOthersSeller").hide(),$("#divReasonOthersBuyer").hide()):($("#divReasonOthersSeller").hide(),$("#divReasonOthersBuyer").hide())):($("#divSellerReasons").hide(),$("#divBuyerReasons").show(),t=$('select[name="reasonIdBuyer"]').select2("data"),t.length?t[0].text=="Others"?($("#divReasonOthersBuyer").show(),$("#divReasonOthersSeller").hide()):($("#divReasonOthersSeller").hide(),$("#divReasonOthersBuyer").hide()):($("#divReasonOthersBuyer").hide(),$("#divReasonOthersSeller").hide()))});$('select[name="reasonIdBuyer"]').on("change",function(){var n=$('select[name="reasonIdBuyer"]').select2("data")[0].text;n=="Others"?$("#divReasonOthersBuyer").show():$("#divReasonOthersBuyer").hide()});$('select[name="reasonIdSeller"]').on("change",function(){var n=$('select[name="reasonIdSeller"]').select2("data")[0].text;n=="Others"?$("#divReasonOthersSeller").show():$("#divReasonOthersSeller").hide()})};f=function(){app.initFormComponent(i);t.setUserEvent()};f()},pageRequestService=new PageRequestService({url:{submitCompleteConsultationInvitation:"/api/pro/consultationinvitation/cancel/",getReturnUrl:"/pro/consultation/facilitating"}});