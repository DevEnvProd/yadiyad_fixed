"use strict";var PageConsultationapplicant=function(n){var t=this,s=".content-consultation-candidates",h=n.url,u=(new Date).getTimezoneOffset()/-60,i=new SimplePagination,r=n.model||{consultationProfile:{},applicants:{totalCount:0,data:[],selected:!1},pagination:i,setCandidateResult:function(n){return i.set(n),i.onPageChanged=function(n){t.getConsultationInvitationList(t.setConsultationInvitationList,n)},n&&n.data&&$.each(n.data,function(n,t){t.createdOnText=moment(t.createdOnUTC,"YYYY-MM-DDTHH:mm").add(u,"hour").format("DD MMM YYYY");t.updatedOnText=moment(t.updatedOnUTC,"YYYY-MM-DDTHH:mm").add(u,"hour").format("DD MMM YYYY");console.log(t);$.each(t.consultantAvailableTimeSlots,function(n,t){t.startDateText=moment(t.startDate,"YYYY-MM-DDTHH:mm").format("dddd");t.startTimeText=moment(t.startDate,"YYYY-MM-DDTHH:mm").format("hh:mm A");t.endTimeText=moment(t.endDate,"YYYY-MM-DDTHH:mm").format("hh:mm A")})}),$.observable(this.applicants).setProperty(n),!1},showApplicantDetail:function(n){var i=$.grep(this.applicants.data,function(n){return n.showMore===!0}),t;return i.length>0&&$.observable(i[0]).setProperty("showMore",!1),t=$.grep(this.applicants.data,function(t){return t.id===n.id}),t.length===1&&$.observable(t[0]).setProperty("showMore",!0),!1},selectApplicant:function(n){var t=$.grep(this.applicants.data,function(t){return t.id===n.id});return t.length===1&&($.observable(t[0]).setProperty("selected",!0),$.observable(this).setProperty("selectedApplicant",t[0])),!1}},f,e,o;Object.defineProperty(t,"model",{get:function(){return r}});$.templates({tmplConsultationJobApplicant:"#tmpl-consultation-job-applicant"});f=function(){};t.getConsultationInvitationList=function(n,t){var i=10,r=t?t*i:0,u={offset:r,recordSize:i,filter:null,advancedFilter:{consultationInvitationStatuses:[2]}},f={url:h.getConsultationInvitationList,method:"post",headers:{"Content-Type":"application/json"},data:JSON.stringify(u)};$.ajax(f).done(n)};t.setConsultationInvitationList=function(n){t.handleResponse(n,function(n){r.setCandidateResult(n.data)})};t.handleResponse=function(n,t){n&&n.status&&n.status.code===1?t(n):swal({icon:"warning",title:"Fail",text:n.status.message}).then(function(){})};e=function(){};o=function(){e();f();$.templates.tmplConsultationJobApplicant.link(s,r);t.getConsultationInvitationList(t.setConsultationInvitationList)};o()},pageConsultationapplicant=new PageConsultationapplicant({url:{getConsultationInvitationList:"/api/pro/consultationinvitation/organization/list",inviteConsultationCondidates:"/api/pro/consultation/{{id}}/invite",getConsultantPastJob:"/api/pro/service/{{id}}/consultation/reviewed"}});