"use strict";var PageConsultationReschedule=function(n){var t=this,i=n.url,o=n.model||{},f,e;o.serviceApplicationId=null;var r=$(".content-facilitating-reschedule"),u=r.find(".form-facilitating-reschedule"),s=r.find(".title-set-date"),h=r.find(".title-reschedule-date"),c=r.find(".reschedule-remarks");t.getParentPage=function(){var n=null;return typeof pageConsultationList!="undefined"&&(n=pageConsultationList),n};f=t.getParentPage();t.setDisplayProperty=function(){f.model.selectedConsultation.appointmentStartDate&&f.model.selectedConsultation.appointmentEndDate?(h.removeClass("hidden"),c.removeClass("hidden")):s.removeClass("hidden")};t.submitReschedule=function(n){var t=app.getFormValue(u),r={Id:$("#Id").val(),RescheduleRemarks:t.resheduleRemarks,Date:t.date,Start:t.start,End:t.end},f={url:i.submitAppointment,method:"post",headers:{"Content-Type":"application/json"},data:JSON.stringify(r)};$.ajax(f).done(n)};t.responseSubmitReschedule=function(n){n&&n.status&&n.status.code===1&&n.data==="setAppointment"?swal({icon:"success",title:"Appointment Set Successfully"}).then(function(){location.href=i.getReturnUrl}):n&&n.status&&n.status.code===1&&n.data==="reschedule"?swal({icon:"success",title:"Appointment Rescheduled Successfully"}).then(function(){location.href=i.getReturnUrl}):swal({icon:"warning",title:"Fail",text:n.status.message}).then(function(){location.href=i.getReturnUrl})};t.setUserEvent=function(){u.find("button[type=submit]").on("click",function(n){(n.preventDefault(),n.stopPropagation(),u.valid()!==!1)&&t.submitReschedule(t.responseSubmitReschedule)})};e=function(){t.setDisplayProperty();app.initFormComponent(u);t.setUserEvent()};e()},pageConsultationReschedule=new PageConsultationReschedule({url:{getConsultationReschedulePage:"/api/pro/consultationinvitation/reschedule/",submitAppointment:"/api/pro/consultationinvitation/set-appointment/",getReturnUrl:"/pro/consultation/facilitating"}});