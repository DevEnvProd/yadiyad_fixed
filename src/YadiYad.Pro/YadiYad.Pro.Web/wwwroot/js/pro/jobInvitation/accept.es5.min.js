"use strict";var PageAcceptJob=function(n){var t=this,f=n.url,i=n.model||{},u,r,e;i.selectedJobInvite=null;u=$(".content-acceptjob");r=u.find(".form-accept-job");t.loadModel=function(){var n=pageJobInvites&&pageJobInvites.getModel();i.selectedJobInvite=n&&n.selectedJobInvite;i.selectedJobInvite||alert("job invitation not found")};t.acceptJob=function(n){var t=app.getFormValue(r),u=i.selectedJobInvite.id,e={JobInvitationStatus:2,isEscrow:t.isEscrow},o={url:f.acceptJob.format({id:u}),method:"post",headers:{"Content-Type":"application/json"},data:JSON.stringify(e)};$.ajax(o).done(n)};t.handleResponse=function(n,t){n&&n.status&&n.status.code===1?t(n):swal({icon:"warning",title:"Fail",text:n.status.message}).then(function(){})};t.responseAcceptJob=function(n){t.handleResponse(n,function(){swal({icon:"success",title:"Job Invitation Accepted Successfully",buttons:{confirm:"Ok"}}).then(function(){location.href=f.returnAcceptInvite})})};t.setUserEvent=function(){u.on("click",".btn-accept",function(n){(n.preventDefault(),n.stopPropagation(),r.valid()!==!1)&&t.acceptJob(t.responseAcceptJob)})};e=function(){app.initFormComponent(r);t.loadModel();t.setUserEvent()};e()},pageAcceptJob=new PageAcceptJob({url:{acceptJob:"/api/pro/jobinvitation/{{id}}",returnAcceptInvite:"/pro/jobapplication/list"}});