"use strict";var PageDeclineJob=function(n,t,i){var r=this,e=i.url,u,f;$.templates({tmplDeclineJobInvite:"#tmpl-decline-job-invite"});Object.defineProperty(r,"model",{get:function(){return u}});u=i.model||{declineReasons:[],declineReasonOptions:["The terms of the offer are unsatisfactary","The work itself is too difficult or too easy","You're worried you won't get along with Organization","The corporate culture doesn't feel right","The commute is too difficult","You've accepted another job offer"],otherReason:null,declineJobInvitation:function(){var n=this.declineReasons;this.otherReason&&n.push(this.otherReason);r.declineJob(n.join("\r\n"),r.responseApplyJob)}};r.declineJob=function(n,i){var r={id:t.model.selectedJobInvite.id,declineReasons:n,consultationApplicationStatus:3},u={url:e.replyConsultationInvite.format(r),method:"POST",headers:{"Content-Type":"application/json"},data:JSON.stringify(r)};$.ajax(u).done(i)};r.handleResponse=function(n,t){n&&n.status&&n.status.code===1?t(n):swal({icon:"warning",title:"Fail",text:n.status.message}).then(function(){})};r.responseApplyJob=function(i){r.handleResponse(i,function(){$(n).closest(".modal").modal("hide");swal({icon:"success",title:"Consultant Request Declined Succesfully ",buttons:{confirm:"Back to profile"}}).then(function(){t.refresh()})})};f=function(){$.templates.tmplDeclineJobInvite.link(n,u)};f()},pageDeclineJob=new PageDeclineJob(".content-decline-job-invite",pageJobInvites,{url:{replyConsultationInvite:"/api/pro/consultationinvitation/{{id}}"}});