"use strict";var PageReturnRequest=function(n){var t=this,e=n.model,r=n.url,f=$(".content-submit-return"),i=f.find("#form-return-request"),u;t.setReturnRequestData=function(n){console.log(n);t.submitReturnRequest=function(t){var u=app.getFormValue(i),f,e,o,s;u.items=[];f=i.find("#reason").find(":selected").val();e=i.find("#action").find(":selected").val();u.ReturnRequestReasonId=f;u.ReturnRequestActionId=e;u.ReturnRequestImageId=$('[name="photos"]').data("downloadIdMultiple");o=i.find('[name="photos"]').data("downloadIdMultiple");console.log(o);n.data.items.forEach(function(n){var t={};t.ProductName=n.productName;t.ProductId=n.productId;u.items.push(t)});$(".itemNo").each(function(n){var t=$(this).find(":selected").val();u.items[n].quantity=t});u.orderId=n.data.orderId;s={url:r.submitReturnRequest,method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},data:JSON.stringify(u)};$.ajax(s).done(t)};t.setUserEvent()};t.onSubmitReturnRequestResponse=function(n){n&&n.status&&n.status.code===1?swal({icon:"success",title:"Return Request Successfully Created",text:"Saved successfully"}).then(function(){location.href="/shuq"}):swal({icon:"warning",title:"Fail",text:n.status.message}).then(function(){})};t.validationForm=function(){return i.valid()&&!0};t.setUserEvent=function(){i.find(".btn-submit").on("click",function(n){n.preventDefault();n.stopPropagation();t.validationForm()&&t.submitReturnRequest(t.onSubmitReturnRequestResponse)})};t.getReturnRequestData=function(n){var t={url:r.getReturnRequest.format({id:orderId}),method:"GET",headers:{"Content-Type":"application/json"}};$.ajax(t).done(n)};u=function(){app.initFormComponent(i);t.getReturnRequestData(t.setReturnRequestData)};u()},pageReturnRequest=new PageReturnRequest({url:{submitReturnRequest:"/api/shuq/return/create",getReturnRequest:"/api/shuq/return/{{id}}"}});