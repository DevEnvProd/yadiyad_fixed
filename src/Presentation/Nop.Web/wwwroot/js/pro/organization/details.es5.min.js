"use strict";var PageOrganizationProfileDetails=function(n){var t=this,c=n.model,u=n.url,r=$(".content-organization-profile"),i=r.find("#form-organization-profile"),f=r.find(".area-agreement"),e=r.find(".btn-cancel"),o=r.find(".title-create"),s=r.find(".title-update"),h=!1;t.initDisplayComponent=function(){app.initFormComponent(i)};t.getOrganizationProfileData=function(n){var t={url:u.getOrganizationProfile,method:"get",headers:{"Content-Type":"application/json"}};$.ajax(t).done(n)};t.setOrganizationProfileData=function(n){var t,r,u,c,l;n&&n.status&&n.status.code===1&&(app.setFormValue(i,n.data),n.data&&n.data.id!==0?(f.addClass("hidden"),e.removeClass("hidden"),o.addClass("hidden"),s.removeClass("hidden")):(h=!0,f.removeClass("hidden"),e.addClass("hidden"),o.removeClass("hidden"),s.addClass("hidden")),t=$('select[name="segmentId"]').select2("data"),t.length&&(t[0].code=n.data.segmentId),r=$('select[name="companySize"]').select2("data"),r.length&&(r[0].code=n.data.companySize),u=$('select[name="stateProvinceId"]').select2("data"),u.length&&(u[0].code=n.data.stateProvinceId),c=$('select[name="countryId"]').select2("data"),c.length&&(c[0].code=n.data.countryId),l=$('select[name="contactPersonTitle"]').select2("data"),l.length&&(l[0].code=n.data.contactPersonTitle))};t.submitOrganizationProfile=function(n){var t=app.getFormValue(i),r;t.id=t.id||0;r={url:i.attr("action"),method:i.attr("method"),headers:{"Content-Type":"application/json"},data:JSON.stringify(t)};$.ajax(r).done(n)};t.validationForm=function(){return i.valid()&&!0};t.onSubmitOrganizationProfileResponse=function(n){n&&n.status&&n.status.code===1?swal({icon:"success",title:h?"Create Organization Profile":"Update Organization Profile",text:"Saved successfully"}).then(function(){location.href=u.getOrganizationCreateJobPage}):swal({icon:"warning",title:"Fail",text:n.status.message}).then(function(){})};t.setUserEvent=function(){i.find("button[type=submit]").on("click",function(n){n.preventDefault();n.stopPropagation();t.validationForm()&&t.submitOrganizationProfile(t.onSubmitOrganizationProfileResponse)});i.find(".btn-cancel").on("click",function(n){n.preventDefault();n.stopPropagation();location.href=u.getOrganizationProfilePage})};t.initDisplayComponent();t.getOrganizationProfileData(t.setOrganizationProfileData);t.setUserEvent()},pageOrganizationProfileDetails=new PageOrganizationProfileDetails({url:{getOrganizationProfile:"/api/pro/organization",getOrganizationProfilePage:"/pro/organization",getOrganizationCreateJobPage:"/pro/job/details"}});