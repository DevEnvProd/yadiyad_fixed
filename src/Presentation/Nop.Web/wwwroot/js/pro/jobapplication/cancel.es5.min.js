"use strict";var PageCancel=function(n){var t=this,h=n.url,r,f,e,u,c=$(".content-job-cancel"),i=c.find("#form-job-cancel"),o,s;t.getParentPage=function(){var n=null;return typeof pageJobApplications!="undefined"&&(n=pageJobApplications,r="Seller",f="* Organization will be notified",e="* Subject to investigation / block for 30 days",u="/pro/jobapplication/list"),typeof pageJobApplicant!="undefined"&&(n=pageJobApplicant,r="Buyer",f="* Job Applicant will be notified",e="* Subject to investigation / refund may not be 100%",u="/pro/jobapplication/hired"),n};o=t.getParentPage();t.initDisplayComponent=function(){app.initFormComponent(i)};t.submitJobCancel=function(n){var f=app.getFormValue(i),t=0,u;r=="Buyer"?t=o.model.selectedJobEngagement.id:r=="Seller"&&(t=o.model.selectedJobApplication.id);u={url:h.setJobApplicationCancel.format({id:t}),method:"post",headers:{"Content-Type":"application/json"},data:JSON.stringify(f)};$.ajax(u).done(n)};t.handleResponse=function(n){n&&n.status&&n.status.code===1?swal({icon:"success",title:"Job Request Cancelled Successfully"}).then(function(){location.href=u}):swal({icon:"warning",title:"Fail",text:n.status.message}).then(function(){location.href=u})};t.validationForm=function(){return i.valid()&&!0};t.setUserEvent=function(){i.find("button[type=submit]").on("click",function(n){n.preventDefault();n.stopPropagation();t.validationForm()&&t.submitJobCancel(t.handleResponse)})};s=function(){i.find('[name="reasonId"]').data("sourceurl",i.find('[name="reasonId"]').data("sourceurl").format({party:r}));i.find("#investigation").html(e);i.find("#notify").html(f);app.initFormComponent(i);t.setUserEvent()};s()},pageCancel=new PageCancel({url:{setJobApplicationCancel:"/api/pro/jobapplication/{{id}}/cancel"}});