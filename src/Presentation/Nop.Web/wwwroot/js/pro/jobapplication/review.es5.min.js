"use strict";var PageReviewJob=function(n,t,i){var r=this,e=i.url,u,f;$.templates({tmplReviewJob:"#tmpl-review-job"});Object.defineProperty(r,"model",{get:function(){return u}});u=i.model||{reviewText:"",knowledgenessRating:0,relevanceRating:0,respondingRating:0,clearnessRating:0,professionalismRating:0,publishReview:function(){var n={reviewText:this.reviewText,knowledgenessRating:this.knowledgenessRating,relevanceRating:this.relevanceRating,respondingRating:this.respondingRating,clearnessRating:this.clearnessRating,professionalismRating:this.professionalismRating};return r.reviewJobApplicant(this.id,n,r.reviewJobApplicantResponse),!1}};r.reviewJobApplicant=function(n,i,r){var u={url:e.reviewApplicant.format({id:t.model.selectedJobEngagement.id}),method:"post",headers:{"Content-Type":"application/json"},data:JSON.stringify(i)};$.ajax(u).done(r)};r.handleResponse=function(n,t){n&&n.status&&n.status.code===1?t(n):swal({icon:"warning",title:"Fail",text:n.status.message}).then(function(){})};r.reviewJobApplicantResponse=function(n){r.handleResponse(n,function(){swal({icon:"success",title:"Review Submitted Successfully"}).then(function(){location.reload()})})};f=function(){$.templates.tmplReviewJob.link(n,u);$("input.rating[type=number]").each(function(){$(this).rating({iconLib:"",inactiveIcon:"far fa-star",activeIcon:"fa fa-star",additionalClasses:"cursor-pointer"}).on("change",function(){var n=$(this).attr("name"),t=$(this).val();$.observable(u).setProperty(n,t)})})};f()},pageReviewJob=new PageReviewJob(".content-review-job",pageJobApplicant,{url:{reviewApplicant:"/api/pro/jobApplication/{{id}}/review"}});