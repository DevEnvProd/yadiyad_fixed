"use strict";var PageApplyJob=function(n){var t=this,f=n.url,i=n.model||{},u,r,e;i.jobProfileId=null;u=$(".content-applyjob");r=u.find(".form-apply-job");t.loadModel=function(){var n=pageJobSearch&&pageJobSearch.getModel();i.jobProfileId=n&&n.selectedJobProfileId;i.jobProfileId||alert("job profile id not found")};t.applyJob=function(n){var t=app.getFormValue(r),u;t.jobProfileId=i.jobProfileId;u={url:f.applyJob,method:"POST",headers:{"Content-Type":"application/json"},data:JSON.stringify(t)};$.ajax(u).done(n)};t.handleResponse=function(n,t){n&&n.status&&n.status.code===1?t(n):swal({icon:"warning",title:"Fail",text:n.status.message}).then(function(){})};t.responseApplyJob=function(n){t.handleResponse(n,function(){window.location.href=f.getJobApplicationList})};t.setUserEvent=function(){u.on("click",".btn-apply",function(n){(n.preventDefault(),n.stopPropagation(),r.valid()!==!1)&&t.applyJob(t.responseApplyJob)})};e=function(){app.initFormComponent(r);t.loadModel();t.setUserEvent()};e()},pageApplyJob=new PageApplyJob({url:{applyJob:"/api/pro/jobapplication/0",getJobApplicationList:"/pro/jobapplication/list?a=1"}});