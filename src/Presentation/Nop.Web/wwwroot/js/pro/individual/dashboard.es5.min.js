"use strict";var PageIndividualDashboardIndex=function(n){var t=this,i=n.url,u=n.model,f=$(".content-individual-profile"),r;t.setDisplayProperty=function(t){t=t.data;u=n.model||{};var i=/{{([\d|\w]{1,})}}/g,r=$(".tbl-job-engagement").DataTable(),e=$(".tbl-consultation-engagement").DataTable();t.jobEngagementCount=r.rows().count();t.consultationEngagementCount=e.rows().count();f.find("[text]").each(function(){for(var n=$(this).attr("text"),r,f,u;(r=i.exec(n))!==null;)f=r[0],u=r[1],n=n.replace(f,t[u]===0?0:t[u]||"");$(this).text(n)})};t.loadJobTable=function(){var n=$(".tbl-consultation-engagement").DataTable({dom:'rt<"clear">',language:{searchPlaceholder:"Search by Keyword",lengthMenu:"_MENU_",info:"This is info",search:""},processing:!1,serverSide:!0,autoWidth:!0,scrollX:!0,columns:[{data:"engagementId"},{data:"engagementDate"},{data:"engagementTitle"},{data:"engagementStatusText"},{data:"depositStatus"},{data:"totalDepositAmount"},{data:"depositReserve"}],ordering:!1,order:[[0,"asc"]],ajax:{url:i.getJobEngagement,type:"post",data:function(n){n.customFilter={}},dataFilter:function(n){var t=$.parseJSON(n),i=t.data.data;return i.forEach(function(n){n.engagementDate=moment.utc(n.engagementDate).local().format("DD/MM/YYYY")}),JSON.stringify(t.data)}},lengthMenu:[[10,25,50,-1],[10,25,50]]})};t.loadConsultantTable=function(){$(".tbl-job-engagement").DataTable({dom:'rt<"clear">',language:{searchPlaceholder:"Search by Keyword",lengthMenu:"_MENU_",info:"This is info",search:""},processing:!1,serverSide:!0,autoWidth:!0,scrollX:!0,columns:[{data:"engagementId"},{data:"engagementDate"},{data:"engagementStatusText"},{data:"depositStatus"},{data:"totalDepositAmount"},{data:"depositReserve"}],ordering:!1,order:[[0,"asc"]],ajax:{url:i.getConsultationEngagement,type:"post",data:function(n){n.customFilter={}},dataFilter:function(n){var t=$.parseJSON(n),i=t.data.data;return i.forEach(function(n){n.engagementDate=moment.utc(n.engagementDate).local().format("DD/MM/YYYY")}),JSON.stringify(t.data)}},lengthMenu:[[10,25,50,-1],[10,25,50]]})};t.getDashboardCardData=function(n){var t={url:i.getDashboardData,method:"get",headers:{"Content-Type":"application/json"}};$.ajax(t).done(n)};r=function(){t.loadJobTable();t.loadConsultantTable();t.getDashboardCardData(t.setDisplayProperty)};r()},PageIndividualDashboardIndex=new PageIndividualDashboardIndex({url:{getDashboardData:"/api/pro/account/dashboard",getJobEngagement:"/api/pro/account/JobEngagement",getConsultationEngagement:"/api/pro/account/ConsultantEngagement"}});