"use strict";(function(n){function t(n){return"[data-value"+(n?"="+n:"")+"]"}function f(n,t,i){var r=i.activeIcon,u=i.inactiveIcon;n.removeClass(t?u:r).addClass(t?r:u)}function h(t,i){var r=n.extend({},o,t.data(),i);return r.inline=r.inline===""||r.inline,r.readonly=r.readonly===""||r.readonly,r.clearableLabel=r.clearable===!1?"":r.clearable,r.clearable=r.clearable===""||r.clearable,r}function c(t,i){var r,u;for(i.inline?(r=n('<span class="rating-input"><\/span>'),r.addClass(i.additionalClasses)):(r=n('<div class="rating-input"><\/div>'),r.addClass(i.additionalClasses)),i.copyClasses&&(r.addClass(t.attr("class")),r.removeClass("rating")),u=i.min;u<=i.max;u++)r.append('<i class="'+i.iconLib+'" data-value="'+u+'"><\/i>');return i.clearable&&!i.readonly&&r.append("&nbsp;").append('<a class="'+e+'"><i class="'+i.iconLib+" "+i.clearableIcon+'" ><\/a>'),r}var e="rating-clear",r="."+e,u="hidden",o={min:1,max:5,"empty-value":0,iconLib:"fa",activeIcon:"fa-star",inactiveIcon:"fa-star-o",clearable:!1,clearableIcon:"fa-remove",clearableRemain:!1,inline:!1,readonly:!1,copyClasses:!0,additionalClasses:""},i=function(n,t){var i=this.$input=n,r;this.options=h(i,t);r=this.$el=c(i,this.options);i.addClass(u).before(r);i.attr("type","hidden");this.highlight(i.val())},s;i.VERSION="0.4.0";i.DEFAULTS=o;i.prototype={clear:function(){this.setValue(this.options["empty-value"])},setValue:function(n){this.highlight(n);this.updateInput(n)},highlight:function(n,i){var o=this.options,e=this.$el,s;n>=this.options.min&&n<=this.options.max?(s=e.find(t(n)),f(s.prevAll("i").addBack(),!0,o),f(s.nextAll("i"),!1,o)):f(e.find(t()),!1,o);i||(this.options.clearableRemain?e.find(r).removeClass(u):n&&n!=this.options["empty-value"]?e.find(r).removeClass(u):e.find(r).addClass(u))},updateInput:function(n){var t=this.$input;t.val()!=n&&t.val(n).change()}};s=n.fn.rating=function(u){return this.filter("input[type=number], div.rating").each(function(){var e=n(this),o=typeof u=="object"&&u||{},f=new i(e,o);if(n(this).is("div"))f.setValue(n(this).text()),e.text("");else if(!f.options.readonly)f.$el.on("mouseenter",t(),function(){f.highlight(n(this).data("value"),!0)}).on("mouseleave",t(),function(){f.highlight(e.val(),!0)}).on("click",t(),function(){f.setValue(n(this).data("value"))}).on("click",r,function(){f.clear()})})};s.Constructor=i})(jQuery);